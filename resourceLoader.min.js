function resourceLoader(options){"use strict";var loader={conditionsAllArray:[]},styles=[],scripts=[],getResources=function(){$.each(loader.conditionsAllArray,function(){$.each(this.resources,function(){var e=this,s=[],o=[],r=this.test?this.test():!0;r&&($.each(e.paths,function(){var r=this,t=-1===r.indexOf("http://")&&-1===r.indexOf("https://");t&&(e.base?r=e.base+r:options&&options.base&&(r=options.base+r)),r.indexOf(".css")>-1?o.push(r):s.push(r)}),$.merge(scripts,s),$.merge(styles,o))})})},loadResources=function(){var e=0,s=0,o=[],r=function(){e===scripts.length&&s===styles.length&&$(window).trigger("resourcesReady")};return 0===scripts.length&&0===styles.length?void $(window).trigger("resourcesReady"):(styles.length>0&&($.each(styles,function(){var e=this,t=$("<link/>",{rel:"stylesheet",type:"text/css",href:e}).on("load",function(){console.log(e+" loaded"),s++,r()}).on("error",function(){console.warn("Error while loading: "+e),s++,r()});o.push(t)}),$("head").append(o)),void(scripts.length>0&&$.each(scripts,function(){var s=this;$.ajax({url:s,dataType:"script",cache:!0}).done(function(){console.log(s+" loaded"),e++,r()}).fail(function(){console.warn("Error while loading: "+s),e++,r()})})))};options&&options.resources?loader.conditionsAllArray=loader.conditionsAllArray.concat(options.resources):$("[data-resources]").each(function(){var obj={};obj.resources=eval($(this).attr("data-resources")),loader.conditionsAllArray.push(obj)}),loader.conditionsAllArray.length>0?(getResources(),loadResources()):$(window).trigger("resourcesReady")}
