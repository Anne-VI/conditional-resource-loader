/* VI Resource Loader v0.0.6 */
function resourceLoader(options){"use strict";var loader={conditionsAllArray:[]},styles=[],scripts=[],getResources=function(){$.each(loader.conditionsAllArray,function(){$.each(this.resources,function(){var s=this,e=this.test?this.test():!0;e&&$.each(s.paths,function(){var e=this,o=-1===e.indexOf("http://")&&-1===e.indexOf("https://");o&&(s.base?e=s.base+e:options&&options.base&&(e=options.base+e)),e.indexOf(".css")>-1?-1===$.inArray(e,styles)&&styles.push(e):-1===$.inArray(e,scripts)&&scripts.push(e)})})})},loadResources=function(){var s=0,e=0,o=[],r=function(){s===scripts.length&&e===styles.length&&$(window).trigger("resourcesReady")};return 0===scripts.length&&0===styles.length?void $(window).trigger("resourcesReady"):(styles.length>0&&($.each(styles,function(){var s=this,t=$("<link/>",{rel:"stylesheet",type:"text/css",href:s}).on("load",function(){console.log(s+" loaded"),e++,r()}).on("error",function(){console.warn("Error while loading: "+s),e++,r()});o.push(t)}),$("head").append(o)),void(scripts.length>0&&$.each(scripts,function(){var e=this;$.ajax({url:e,dataType:"script",cache:!0}).done(function(){console.log(e+" loaded"),s++,r()}).fail(function(){console.warn("Error while loading: "+e),s++,r()})})))};options&&options.resources?loader.conditionsAllArray=loader.conditionsAllArray.concat(options.resources):$("[data-resources]").each(function(){var obj={};obj.resources=eval($(this).attr("data-resources")),loader.conditionsAllArray.push(obj)}),loader.conditionsAllArray.length>0?(getResources(),loadResources()):$(window).trigger("resourcesReady")}
